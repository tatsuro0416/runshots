<div class='container form'>
  <div class='mx-5 px-5'>
    <%= form_with model: @post do |f| %>
      <%= f.label 'コースを投稿', class: 'mt-4 mb-3 h2 font-weight-bold' %>
      <div class='form-group'>
        <%= f.label :caption, 'コースを一言で', class: 'mt-4 form-label' %>
        <%= f.text_field :caption, max_length: 40 ,placeholder: '例）都心のオアシス・駒沢公園', class: 'form-control' %>
      </div>
      <div class='form-group'>
        <%= f.label :description, 'もっと詳しく', class: 'mt-2 form-label' %>
        <%= f.text_area :description, max_length: 100, placeholder: '例）多くのランナーが訪れる駒沢公園。一周２キロの周回コースです。' , class: 'form-control'%>
      </div>
      <div class='form-group'>
        <%= f.label :photos, '写真をアップロード', class: 'mt-2 form-label' %>
        <div class='row'>
          <div class='col-2'>
            <label for="file-picture" class="file-picture__label" >
              写真を選択
              <%= f.file_field :images, class: "file-picture", id: "file-picture", multiple: true %>
            </label>
          </div>
        </div>
        <div class='row'>
          <div class='col-12'>
            <div class='preview' id='preview'>
              <p id="preview-title">プレビュー</p>
              <div id="preview-inner"> </div>
              <% if @post.images.attached? %>
                <% @post.images.each do |image| %>
                  <%= image_tag image.variant(resize: "150x150") %>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
      <details>
        <summary class='form-label' >さらに詳しい情報はこちら</summary>
        <div class='form-group mb-0 mt-2'>
          <div class='row'>
            <div class='col-4'>
              <%= f.label :loadtype, 'ロードタイプ' %>
            </div>
            <div class='col-8'>
              <%= f.collection_radio_buttons :loadtype, Post.loadtypes_i18n, :first, :last, { checked: Post.loadtypes_i18n.first } %>
            </div>
          </div>
        </div>
        <div class='form-group mb-0 mt-3'>
          <div class='row'>
            <div class='col-4'>
              <%= f.label :loadtype, 'おすすめの時間帯' %>
            </div>
            <div class='col-8'>
              <%= f.collection_radio_buttons :timezone, Post.timezones_i18n, :first, :last, { checked: Post.timezones_i18n.first } %>
            </div>
          </div>
        </div>
        <div class='form-group mb-0 mt-3'>
          <div class='row'>
            <div class='col-4'>
              <%= f.label :updown, 'アップダウン' %>
            </div>
            <div class='col-8'>
              <%= f.collection_radio_buttons :updown, Post.updowns_i18n, :first, :last, { checked: Post.updowns_i18n.first } %>
            </div>
          </div>
        </div>
        <div class='form-group mb-0 mt-3'>
          <div class='row'>
            <div class='col-4'>
              <%= f.label :trafficlight, '信号機の量' %>
            </div>
            <div class='col-8'>
              <%= f.collection_radio_buttons :trafficlight, Post.trafficlights_i18n, :first, :last, { checked: Post.trafficlights_i18n.first } %>
            </div>
          </div>
        </div>
        <div class='form-group mb-0 mt-3'>
          <div class='row'>
            <div class='col-4'>
              <%= f.label :crowd, '人混み' %>
            </div>
            <div class='col-8'>
              <%= f.collection_radio_buttons :crowd, Post.crowds_i18n, :first, :last, { checked: Post.crowds_i18n.first } %>
            </div>
          </div>
        </div>
      </details>
      <%= f.submit "投稿", class: "btn btn-primary mt-3" %>
    <% end %>
  </div>
</div>